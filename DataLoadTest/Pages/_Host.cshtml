@page "/"
@namespace DataLoadTest.Pages
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DataLoadTest</title>
    <base href="~/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link href="css/site.css" rel="stylesheet" />
    @*Developer Add*@
    @*<link rel="stylesheet" href="~/DataTables/datatables.min.css" />*@
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.23/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/scroller/2.0.3/css/scroller.dataTables.min.css" />

</head>
<body>
    <app>
        <component type="typeof(App)" render-mode="ServerPrerendered" />
    </app>

    <div id="blazor-error-ui">
        <environment include="Staging,Production">
            An error has occurred. This application may no longer respond until reloaded.
        </environment>
        <environment include="Development">
            An unhandled exception has occurred. See browser dev tools for details.
        </environment>
        <a href="" class="reload">Reload</a>
        <a class="dismiss">🗙</a>
    </div>

    
    <footer>
        <script src="_framework/blazor.server.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/scroller/2.0.3/js/dataTables.scroller.min.js"></script>

        <script>
            window.Tables = () => {
                @*$('#loadTest').DataTable({
                    serverSide: true,
                    processing: true,
                    ajax : function (var )
                });*@   

                $('#loadTest').DataTable({
                    serverSide: true,   @*서버 사이드 처리*@
                    ordering: true,    @*정렬 기능 활성화 여부*@
                    searching: true,    @*검색바 활성화 여부*@
                    ajax: function (data, callback, settings) {
                        var out = [];

                        for (var i = data.start, ien = data.start + data.length; i < ien; i++) {
                            out.push([i + '-1', i + '-2', i + '-3', i + '-4', i + '-5', i + '-6', i + '-7', i + '-8', i + '-9', i + '-10',
                                i + '-11', i + '-12', i + '-13', i + '-14', i + '-15']);
                        }

                        setTimeout(function () {
                            callback({
                                draw: data.draw,
                                data: out,
                                recordsTotal: 5000000,
                                recordsFiltered: 5000000
                            });
                        }, 200);
                    },
                    scrollY: 600,   // Height 길이 조절
                    scroller: {
                        loadingIndicator: true // 로딩 안내 메세지 표시 여부
                    },
                });
            };
        </script>
    </footer>
</body>
</html>
